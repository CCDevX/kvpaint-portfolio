(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const v="kv-theme",g="fa-moon",f="fa-sun",y=document.documentElement,l=document.querySelector(".theme-toggle"),i=document.querySelector("#theme-icon");function L(e){y.setAttribute("data-theme",e),e==="dark"?(i.classList.remove(f),i.classList.add(g)):(i.classList.remove(g),i.classList.add(f)),localStorage.setItem(v,e)}function E(){try{console.log("enter toggle fct");const o=y.getAttribute("data-theme")==="dark"?"light":"dark";L(o)}catch(e){console.log("toggle error : ",e)}}function T(){const e=localStorage.getItem(v),o=window.matchMedia("(prefers-color-scheme: dark)").matches;L(e||(o?"dark":"light")),l==null||l.addEventListener("click",E)}T();const u=(e,o={})=>{},p={home:{title:"Home",scripts:["pages/home/home.js"]},gallery:{title:"Galerie",scripts:["pages/gallery/gallery.js"]},about:{title:"A propos",scripts:["pages/about/about.js"]},contact:{title:"Contact",scripts:["pages/contact/contact.js"]}},d=document.querySelector("#page-content"),b=()=>{d.innerHTML='<div class="loading"><i class="fa-solid fa-spinner fa-spin"></i> Loading...</div>'},w=()=>{document.querySelectorAll("script[data-page-script]").forEach(e=>{e.remove()})},S=async e=>{const o=await fetch(`./pages/${e}/${e}.html`);if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);return o.text()},A=async(e,o)=>{var c;const n=((c=o[e])==null?void 0:c.scripts)||[];return n.length===0?(console.log(`No scripts to load for page: ${e}`),"No scripts loaded"):Promise.all(n.map(t=>new Promise((r,a)=>{const s=document.createElement("script");s.src=t,s.type="module",s.async=!0,s.setAttribute("data-page-script",""),document.body.appendChild(s),s.onload=()=>{console.log(`Script loaded: ${t}`),r(t)},s.onerror=()=>{console.error(`Script failed to load: ${t}`),a(new Error(`Failed to load script: ${t}`))}})))},m=async(e,o,n,c={})=>{b(),w();try{const t=await S(e);d.innerHTML=t,await A(e,o),console.log(`Page ${e} fully loaded.`),typeof n=="function"&&n(e,c)}catch(t){console.error(`Could not load page "${e}":`,t),d.innerHTML=`
      <div class="error-container">
        <h1>Error loading page</h1>
        <button onclick="location.reload()">Reload</button>
      </div>`}};document.addEventListener("DOMContentLoaded",()=>{q(),m("home",p,u)});const M=document.querySelector("#menu-icon"),O=document.querySelector(".top-nav"),q=()=>{const e=document.querySelectorAll("nav.top-nav a");h(e);const o=document.querySelector(".mobile-menu");o.innerHTML=O.innerHTML;const n=o.querySelector(".button-container");n&&n.remove();const c=o.querySelectorAll("ul li a");h(c),c.forEach(t=>{t.addEventListener("click",r=>{r.preventDefault(),c.forEach(s=>s.classList.remove("active")),r.currentTarget.classList.add("active");const a=r.currentTarget.getAttribute("data-page");m(a,p,u)})}),M.addEventListener("click",()=>{o.classList.toggle("active")}),window.addEventListener("resize",()=>{window.innerWidth>768&&(console.log("enter resize"),o.classList.remove("active"))})},h=e=>{e.forEach(o=>{o.addEventListener("click",n=>{n.preventDefault(),e.forEach(t=>t.classList.remove("active")),n.currentTarget.classList.add("active");const c=n.currentTarget.getAttribute("data-page");console.log("page : ",c),m(c,p,u)})})};
