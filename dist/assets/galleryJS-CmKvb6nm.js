let g,m,u,i;function y(){if(console.log("Init gallery script"),g=document.getElementById("preview-image"),m=document.getElementById("gallery-preview"),u=document.getElementById("placeholder-message"),document.getElementById("pagination"),i=document.querySelector(".gallery-grid"),!i){console.warn("Gallery container not found, retrying...");return}f(),p(),r()}let c=4,n=1,s="all",o=[];function f(){const e=Array.from({length:14},(l,a)=>({src:`gallery/round/round${a}.jpg`,category:"round"})),t=Array.from({length:8},(l,a)=>({src:`gallery/canvas/canvas${a}.jpg`,category:"canvas"}));o=[...e,...t],console.log("Images loaded:",o)}function r(){const e=s==="all"?o:o.filter(a=>a.category===s),t=(n-1)*c,l=e.slice(t,t+c);i.innerHTML=l.map(a=>`<div class="gallery-item ${a.category}">
           <img src="../../assets/img/${a.src}" alt="Artwork" />
         </div>`).join(""),v(),I(e.length)}function v(){document.querySelectorAll(".gallery-item img").forEach(t=>{t.addEventListener("click",()=>{g.src=t.src,m.classList.remove("hidden"),u.classList.add("inactive")})})}function I(e){const t=Math.ceil(e/c),l=document.getElementById("page-indicator");l.textContent=`Page ${n} sur ${t}`,document.getElementById("prev-page").disabled=n===1,document.getElementById("next-page").disabled=n===t,document.getElementById("prev-page").onclick=()=>{n>1&&(n--,r())},document.getElementById("next-page").onclick=()=>{n<t&&(n++,r())}}function p(){document.querySelectorAll(".filter-btn").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".filter-btn").forEach(t=>t.classList.remove("active")),e.classList.add("active"),s=e.dataset.filter,n=1,r()})})}const d=document.getElementById("itemsPerPage");d&&d.addEventListener("change",e=>{c=parseInt(e.target.value,10),n=1,r()});y();
