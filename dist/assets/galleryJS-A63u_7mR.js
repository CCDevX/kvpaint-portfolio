let g,m,y,i;function u(){if(console.log("Init gallery script"),g=document.getElementById("preview-image"),m=document.getElementById("gallery-preview"),y=document.getElementById("placeholder-message"),document.getElementById("pagination"),i=document.querySelector(".gallery-grid"),!i){console.warn("Gallery container not found, retrying...");return}window.addEventListener("resize",t=>{console.log("reisze");const e=document.querySelector(".gallery-controls");window.innerWidth<=767?(e.style.display="none",r=6):(e.style.display="block",r=8),a()}),f(),I(),a()}let r=4,n=1,s="all",o=[];function f(){const t=Array.from({length:14},(c,l)=>({src:`gallery/round/round${l}.jpg`,category:"round"})),e=Array.from({length:8},(c,l)=>({src:`gallery/canvas/canvas${l}.jpg`,category:"canvas"}));o=[...t,...e],console.log("Images loaded:",o)}function a(){const t=s==="all"?o:o.filter(l=>l.category===s),e=(n-1)*r,c=t.slice(e,e+r);i.innerHTML=c.map(l=>`<div class="gallery-item ${l.category}">
           <img src="../../assets/img/${l.src}" alt="Artwork" />
         </div>`).join(""),v(),p(t.length)}function v(){document.querySelectorAll(".gallery-item img").forEach(e=>{e.addEventListener("click",()=>{g.src=e.src,m.classList.remove("hidden"),y.classList.add("inactive")})})}function p(t){const e=Math.ceil(t/r),c=document.getElementById("page-indicator");c.textContent=`Page ${n} sur ${e}`,document.getElementById("prev-page").disabled=n===1,document.getElementById("next-page").disabled=n===e,document.getElementById("prev-page").onclick=()=>{n>1&&(n--,a())},document.getElementById("next-page").onclick=()=>{n<e&&(n++,a())}}function I(){document.querySelectorAll(".filter-btn").forEach(t=>{t.addEventListener("click",()=>{document.querySelectorAll(".filter-btn").forEach(e=>e.classList.remove("active")),t.classList.add("active"),s=t.dataset.filter,n=1,a()})})}const d=document.getElementById("itemsPerPage");d&&d.addEventListener("change",t=>{r=parseInt(t.target.value,10),n=1,a()});u();
